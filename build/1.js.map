{"version":3,"sources":["../../src/pages/top/top.module.ts","../../src/components/message/message.module.ts","../../src/components/message/message.ts","../../src/pages/top/top.ts"],"names":[],"mappings":"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","file":"1.js","sourcesContent":["import { NgModule } from '@angular/core';\nimport { IonicPageModule } from 'ionic-angular';\nimport { TopPage } from './top';\n\nimport { MessageModule } from '../../components/message/message.module';\n\n@NgModule({\n  declarations: [\n    TopPage,\n  ],\n  imports: [\n    IonicPageModule.forChild(TopPage),\n    MessageModule\n  ],\n})\nexport class TopPageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/top/top.module.ts","import { NgModule } from '@angular/core';\nimport { MessageComponent } from './message';\nimport { IonicPageModule } from 'ionic-angular';\n\n@NgModule({\n\tdeclarations: [MessageComponent],\n\timports: [\n    IonicPageModule.forChild(MessageComponent)\n  ],\n\texports: [MessageComponent]\n})\nexport class MessageModule {}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/message/message.module.ts","import { Component, Input } from '@angular/core';\nimport { Message } from '../../models';\n\n@Component({\n  selector: 'message',\n  templateUrl: 'message.html'\n})\nexport class MessageComponent {\n  @Input() message: Message;\n  @Input() deleteMessage?: Function;\n\n  constructor() {}\n\n  public displayDate(created_at: string) {\n    const time = new Date(created_at);\n\n    const year = time.getFullYear();\n    const month = time.getMonth() + 1;\n    const date = time.getDate();\n\n    const hours = time.getHours();\n    const minutes = time.getMinutes();\n\n    return `${year}/${(month < 10 ? '0' : '') + month}/${(date < 10 ? '0' : '') + date} ${hours}:${minutes}`;\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/components/message/message.ts","import { Component } from '@angular/core';\nimport { IonicPage, NavController, NavParams, AlertController } from 'ionic-angular';\nimport { MessageProvider } from '../../providers/message';\nimport { Message } from '../../models';\n\n@IonicPage({\n  name: 'top',\n  segment: 'top'\n})\n@Component({\n  selector: 'page-top',\n  templateUrl: 'top.html',\n})\nexport class TopPage {\n\n  public messages: Message[] = [];\n  private next: number | null = null;\n\n  constructor(\n    public navCtrl: NavController,\n    public navParams: NavParams,\n    private alertCtrl: AlertController,\n    private messageProvider: MessageProvider\n  ) {}\n\n  public ionViewDidLoad() {\n    this.getMessages();\n  }\n\n  public async getMessages() {\n    try {\n      const response = await this.messageProvider.get();\n      this.messages = response.messages;\n      this.next = response.next;\n    } catch (_) {\n      await this.alertCtrl.create({\n        title: 'メッセージの取得に失敗しました',\n        buttons: ['OK']\n      }).present();\n    }\n  }\n\n  public async doRefresh(refresher) {\n    await this.getMessages();\n    refresher.complete();\n  }\n\n  public async doInfinite(infiniteScroll) {\n    if (this.next === null) {\n      infiniteScroll.complete();\n      return;\n    }\n\n    const response = await this.messageProvider.get(this.next);\n\n    this.messages = this.messages.concat(response.messages);\n    this.next = response.next || null;\n\n    infiniteScroll.complete();\n  }\n\n}\n\n\n\n// WEBPACK FOOTER //\n// ./src/pages/top/top.ts"],"sourceRoot":""}